<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8" />
		<title></title>
		<style type="text/css">
			 body {
      			background: #ccc;
    			}
    			#canvas {
     			box-shadow: 0 0 20px #333;
			    display: block;
			    margin: 20px auto 0;
		    }
		</style>
	</head>
	<body>
		<canvas id="canvas" width="800" height="800"></canvas>
		<script type="text/javascript">
			var canvas = document.getElementById('canvas');
    			var cvs = canvas.getContext('2d');
    			
			var colorArr1 = ['#2f99cd', '#e14141', '#4dd655', '#cedc61'];
			var colorArr2 = ['#2087b2', '#b73235', '#46b346', '#b5c352'];
			var deg = 0;
			
			function rotate(){
				window.requestAnimationFrame(function(){
					deg -= 0.1;
					//
					drawPoint();
					drawLeaf();
					drawStick();
			   });
			}
			
			//绘制风车
			function drawLeaf(){
				for(var i=0; i<4; i++){
						//移动和旋转路径
						cvs.save();
					    cvs.translate(400,400);
					    cvs.rotate(Math.PI/180*-90*i + deg);
					    /* 开始绘制风车叶的三角层 */
					    cvs.beginPath();
					    cvs.moveTo(0,0);
					    cvs.lineTo(0,350);
					    //使用二次曲线绘制三角形有弧度的斜面
					    cvs.quadraticCurveTo(120,240,140,0);
					    cvs.lineTo(140,0);
					    cvs.closePath();
					    cvs.fillStyle = colorArr1[i];
					    cvs.fill();
					    /* 结束绘制风车叶的三角层 */
					    /* 开始绘制风车叶的三角层里面的圆弧层 */
					    cvs.beginPath();
					    cvs.moveTo(0,0);
					    //使用二次曲线绘制圆弧
					    cvs.quadraticCurveTo(200,150,0,350);
					    cvs.closePath();
					    cvs.fillStyle = colorArr2[i];
					    cvs.fill();
					    /* 结束绘制风车叶的三角层里面的圆弧层 */
					    cvs.restore();
					}
			};
			
			//绘制白色风车棍
			function drawStick(){
				
					cvs.save();
					cvs.beginPath();
					cvs.translate(400,400);
					cvs.fillStyle = 'white';
					cvs.arc(0,0,25,0,Math.PI*2);
					cvs.fill();
				    cvs.restore();
				    rotate();
			};
			function drawPoint(){
				//绘制白色圆点
					cvs.clearRect(0,0,800,800);
					cvs.save();
					cvs.beginPath();
					cvs.translate(400,400);
					cvs.lineWidth = 30;
					cvs.strokeStyle = 'white';
					cvs.moveTo(0,0);
					cvs.lineTo(0,400);
					cvs.stroke();
					cvs.restore();
			};
			
			rotate();
			
		</script>
	</body>
</html>
